---
tags:
  - 软件设计师
aliases:
  - FactoryMethod
  - Factory Method
---
# 介绍

通过"对象创建"模式绕开`new`,来避免对象创建(new)过程中所导致的紧耦合([[设计原则#1. 依赖倒转原则]]),从而支持对象创建的稳定.它是接口抽象之后的第一步工作

工厂方法属于简单工厂的衍生方法,它继承了简单工厂的有点,并弥补了简单工厂的缺点





典型模式

- [[简单工厂|Simple Factory]]

- [[工厂方法|Factory Method]]
- [[抽象工厂|Abstract Factory]]
- [[生成器|Builder]]
- [[原型|Prototype]]



给出上下文

现在需要一个文件分割器,这个文件分割器可以分割多种类型的文件

在没有使用工厂模式的情况下,写出的代码和以下的差不多

```c++
class ISplitter {
public:
  virtual void split() = 0;
  virtual ~ISplitter(){};
};

class BinarySplitter : public ISplitter {
public:
  virtual void split() {}
  ~BinarySplitter(){};
};

class VideoSplitter : public ISplitter {
public:
  virtual void split() {}
  ~VideoSplitter(){};
};

class MainForm {
public:
  void Button_Click() {
    //因为在普通方法中使用了new,使得此处依赖了一个具体类VideoSplitter,违反了依赖倒转原则
    ISplitter *splitter = new VideoSplitter();
    splitter->split();
  }
};
```

在这里,一般写法违反了依赖倒转原则,可以使用简单工厂,消除这个问题

```c++
class MainForm {
public:
  void Button_Click() {
    ISplitter *splitter = SplitterFactory();
    splitter->split();
  }
};
```



