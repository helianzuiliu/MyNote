---
tags:
  - TCP/IP
  - 网络
---


# UDP

![[Pasted image 20240729162446.png]]

- 16位UDP长度表示整个数据报`(UDP首部+UDP数据)`的长度
- 如果校验和出错，就会直接丢弃(UDP校验首部和数据部分)

UDP特点

- 无连接：只知道对端的IP和端口号就可以发送，不需要实现建立连接。
- 不可靠：没有确认机制， 没有重传机制。如果因为网络故障该段无法发到对方， UDP协议层也不会给应用层返回任何错误信息。
- 面向数据报： 应用层交给`UDP`多长的报文， UDP原样发送既不会拆分，也不会合并。

**UDP的缓冲区：UDP存在接收缓冲区**

- UDP没有发送缓冲区，在调用`sendto`时会直接将数据交给内核，由内核将数据传给`网络层协议`进行后续的传输动作。
- UDP具有接收缓冲区，但是这个`接收缓冲区`不能保证收到的UDP报文的顺序和发送UDP报的顺序一致，如果缓冲区满了再到达的UDP数据报就会被丢弃。

**UDP是一种`全双工`通信协议。 UDP协议首部中有一个16位的大长度. 也就是说一个UDP能传输的报文长度是`64K`(包含UDP首部)。如果我们需要传输的数据超过64K, 就需要在应用层手动的`分包`, 多次发送, 并在接收端手动拼装。**